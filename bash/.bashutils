ostype () {
case ${OSTYPE} in
	linux* ) echo "linux" ;;
	darwin* ) echo "darwin" ;;
	freebsd* ) echo "freebsd" ;;
	cygwin ) echo "cygwin" ;;
	msys ) echo "msys" ;;
	win32 ) echo "win32" ;;
	* ) echo "linux" ;;
esac
}
emsg () {
	>&2 echo $*
}
pathmerge () {
	case ":${PATH}:" in
		*:"$1":*)
			;;
		*)
			if [ "$2" = "after" ]; then
				PATH=${PATH}:$1
			else
				PATH=$1:${PATH}
			fi
			;;
	esac
}

xpathmerge () {
	case "$1" in
		MAN | MANPATH)
			case ":${MANPATH}:" in
				*:"$2":*)
					;;
				*)
					if [ "$3" = "after" ]; then
						MANPATH=${MANPATH}:$2
					else
						MANPATH=$2:${MANPATH}
					fi
			esac
			;;
		LIB | LD_LIBRARY_PATH)
			case ":${LD_LIBRARY_PATH}:" in
				*:"$2":*)
					;;
				*)
					if [ "$3" = "after" ]; then
						LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:$2
					else
						LD_LIBRARY_PATH=$2:${LD_LIBRARY_PATH}
					fi
			esac
			;;
		*) emsg "Usage: xpathset [MAN | LIB] path" ;;
	esac
}
